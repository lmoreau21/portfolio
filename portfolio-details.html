<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Project Details</title>
  <meta content="" name="description">
  <meta content="" name="keywords">
  <!--<script src="js/project_data.json"></script> -->
  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

  
  <script src="assets/js/project.json"></script>

</head>

<body>
  
  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top">
    <div class="container d-flex align-items-center justify-content-between">

      <h1 class="logo"><a href="index.html">Portfolio</a></h1>
      <!-- Uncomment below if you prefer to use an image logo -->
      <!-- <a href="index.html" class="logo"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->
      <nav id="navbar" class="navbar">
        <ul>
          <li><a class="nav-link scrollto active" href="index.html">Home</a></li>
          <li><a class="nav-link scrollto" href="index.html#about">About</a></li>
          <li><a class="nav-link scrollto" href="index.html#projects">Projects</a></li>
          <li><a class="nav-link scrollto" href="index.html#contact">Contact</a></li>
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->
    </div>
  </header><!-- End Header -->

   
    <!-- ======= Portfolio Details Section ======= -->
    
  
      <div id="projects-list"></div>

     
      <script>
        fetch("assets/js/project.json")
          .then(response => response.json())
          .then(data => {
            const projectsList = document.getElementById("projects-list");
            var id = "bugsmash";
            const idx = document.URL.indexOf('?')
            if (idx != -1) {
              id = document.URL.substring(idx+1)
            }
              

              const projectData = data[id];
              console.log(projectData);
              document.addEventListener("DOMContentLoaded", function () {
                const openPopupButton = document.getElementById("openPopup");
                const closePopupButton = document.getElementById("closePopup");
                const popupContainer = document.getElementById("popupContainer");
                const embedContainer = document.getElementById("embedContainer");
                const body = document.body;
                // Add click event listener to open the popup
                openPopupButton.addEventListener("click", function () {
                  if (projectData.embed) {
                    popupContainer.style.display = "block"; // Show the popup container
                    body.classList.add("popup-open"); // Add the class to disable scrolling
                    embedContainer.innerHTML = projectData.embed ? `<div class="embed-container"><iframe src="${projectData.embed}" frameborder="0"></iframe></div>` : '';
                }
              });
                            
                // Add click event listener to close the popup
                closePopupButton.addEventListener("click", function () {
                  popupContainer.style.display = "none"; // Hide the popup container
                  embedContainer.innerHTML = ""; // Clear the embedded iframe content
                  body.classList.remove('popup-open');
                });
              });
              var projectElement = document.createElement("div");
              // Select the necessary elements
          
              
              projectElement.innerHTML = `

              
              <div class="hero hero-single route bg-image" style="background-image: url(assets/img/background1.jpg)">
                <div class="overlay-mf"></div>
                <div class="hero-content display-table">
                  <div class="table-cell">
                    <div class="container">
                      <h2 class="hero-title mb-4"> ${projectData.title}</h2>
                    </div>
                  </div>
                </div>
              </div>

              

              <section id="jaot" class="portfolio-details">
     
    
                <div class="container" style="width: 75%">
                  <div class="image-container">
                    <img src="assets/img/${projectData.img}" alt="Project Image" class="project-image">
                  </div>
                </div>




              <div class="portfolio-info"  style="width: 70%; margin-left: 15%;">
                <div class="col-lg-6">
                  <h3>Overview</h3>
                  <ul class="list-unstyled">
                    <li><strong>Category:</strong> ${projectData.category}</li>
                    <li><strong>Date:</strong> ${projectData.date}</li>
                    <li><strong>URL:</strong> <a href="${projectData.github}" target="_blank">${projectData.github}</a></li>
                    <li><strong>Description:</strong> ${projectData.description}</li>
                    <li><strong>Tech Stack:</strong> ${projectData.techstack.join(", ")}</li>
                  </ul>
                  ${projectData.youtube ? `<iframe src="https://www.youtube.com/embed/${projectData.youtube.split('/').pop()}" frameborder="0" style="width:100%; height:315px;" allowfullscreen></iframe>` : ''}
                  <!-- Button to open the popup -->
                    <button id="openPopup" type="button" class="btn btn-outline-dark btn-block" style="display: ${projectData.embed ? 'block' : 'none'};">Test It Out</button>
                    
                    <!-- The popup container -->
                    <div class="popup-container" id="popupContainer">
                      <!-- Embedded iframe -->
                      <div class="embed-container" id="embedContainer"></div>
                      <!-- Close button -->
                      <button id="closePopup" type="button" class="btn btn-outline-light btn-block">Close</button>
                      
                   </div>
                </div>
              </div>
              </section>
              <div class="container" style="padding-top: 20px;">
              
                `;
              projectsList.appendChild(projectElement);
          }).catch(error => console.error(error));
          
        </script>
        </div>
        
   
  </main><!-- End #main -->

  <footer></footer>
  <div id="preloader"></div>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/typed.js/typed.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>
  
  <script src="assets/js/project.json"></script>
</body>

</html>